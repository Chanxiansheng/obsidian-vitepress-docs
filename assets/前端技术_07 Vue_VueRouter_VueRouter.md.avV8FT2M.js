import{_ as i,c as a,o as t,ag as n}from"./chunks/framework.-ewJmwvT.js";const o=JSON.parse('{"title":"Router","description":"","frontmatter":{},"headers":[],"relativePath":"å‰ç«¯æŠ€æœ¯/07 Vue/VueRouter/VueRouter.md","filePath":"å‰ç«¯æŠ€æœ¯/07 Vue/VueRouter/VueRouter.md"}'),p={name:"å‰ç«¯æŠ€æœ¯/07 Vue/VueRouter/VueRouter.md"};function h(l,s,e,k,r,E){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="router" tabindex="-1">Router <a class="header-anchor" href="#router" aria-label="Permalink to &quot;Router&quot;">â€‹</a></h1><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p><a href="https://router.vuejs.org/zh/" target="_blank" rel="noreferrer">https://router.vuejs.org/zh/</a></p></div><h2 id="ä¸€ã€å‰è¨€" tabindex="-1">ä¸€ã€å‰è¨€ <a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-label="Permalink to &quot;ä¸€ã€å‰è¨€&quot;">â€‹</a></h2><p>vue æ˜¯å•é¡µåº”ç”¨ï¼Œä¸ä¼šåœ¨å¤šä¸ª html ä¹‹é—´è·³è½¬ï¼Œå› æ­¤è¦ä½¿ç”¨è·¯ç”±åšé¡µé¢é—´çš„è·³è½¬ã€‚</p><p>Vue è·¯ç”±å…è®¸æˆ‘ä»¬é€šè¿‡ä¸åŒçš„ URL è®¿é—®ä¸åŒçš„å†…å®¹ã€‚é€šè¿‡ Vue å¯ä»¥å®ç°å¤šè§†å›¾çš„å•é¡µ Web åº”ç”¨ã€‚</p><h2 id="äºŒã€-å®‰è£…" tabindex="-1">äºŒã€ å®‰è£… <a class="header-anchor" href="#äºŒã€-å®‰è£…" aria-label="Permalink to &quot;äºŒã€ å®‰è£…&quot;">â€‹</a></h2><ol><li><p>æ„å»ºå‰ç«¯é¡¹ç›®</p><ul><li><code>npm init vue@latest</code> ï¼ˆvueâ€”&gt;viteï¼‰</li><li>or <code>npm init vite@latest</code> (viteâ€”&gt;vue)</li></ul></li><li><p>å®‰è£… vue-router</p><ul><li>ä½¿ç”¨ Vue3 å®‰è£…å¯¹åº”çš„ router4 ç‰ˆæœ¬</li><li>ä½¿ç”¨ Vue2 å®‰è£…å¯¹åº”çš„ router3 ç‰ˆæœ¬</li><li><code>npm install vue-router@4</code></li></ul></li><li><p>åœ¨ src ç›®å½•ä¸‹é¢æ–°å»º router æ–‡ä»¶å¤¹ï¼Œå…¶ä¸‹æ–°å»º index.ts</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createRouter,createWebHistory,RouteRecordRaw } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue-router&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//vue2 mode history vue3 createWebHistory  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//vue2 mode  hash  vue3  createWebHashHistory  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//vue2 mode abstact vue3  createMemoryHistory  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RouteRecordRaw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	{  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		path:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../components/login.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	},  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	{  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		path:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/reg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../components/reg.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	history:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWebHistory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	routes  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> router</span></span></code></pre></div></li><li><p>main.ts ä½¿ç”¨ç»„ä»¶<br><code>app.use(router)</code></p></li><li><p>ä½¿ç”¨<br><code>&lt;router-link to=&quot;è·¯ç”±åœ°å€&quot;&gt;</code><br> è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨å¸¸è§„çš„ a æ ‡ç­¾ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ router-link æ¥åˆ›å»ºé“¾æ¥ã€‚è¿™ä½¿å¾— Vue Router å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½é¡µé¢çš„æƒ…å†µä¸‹æ›´æ”¹ URLï¼Œå¤„ç† URL çš„ç”Ÿæˆä»¥åŠç¼–ç ã€‚æˆ‘ä»¬å°†åœ¨åé¢çœ‹åˆ°å¦‚ä½•ä»è¿™äº›åŠŸèƒ½ä¸­è·ç›Šã€‚<br><code>&lt;router-view&gt;</code><br> router-view å°†æ˜¾ç¤ºä¸ url å¯¹åº”çš„ç»„ä»¶ã€‚ä½ å¯ä»¥æŠŠå®ƒæ”¾åœ¨ä»»ä½•åœ°æ–¹ï¼Œä»¥é€‚åº”ä½ çš„å¸ƒå±€ã€‚</p></li></ol><h2 id="ä¸‰ã€è·¯ç”±æ¨¡å¼" tabindex="-1">ä¸‰ã€è·¯ç”±æ¨¡å¼ <a class="header-anchor" href="#ä¸‰ã€è·¯ç”±æ¨¡å¼" aria-label="Permalink to &quot;ä¸‰ã€è·¯ç”±æ¨¡å¼&quot;">â€‹</a></h2><ul><li>åœ¨åˆ›å»ºè·¯ç”±å™¨å®ä¾‹æ—¶ï¼Œ<code>history</code> é…ç½®å…è®¸æˆ‘ä»¬åœ¨ä¸åŒçš„å†å²æ¨¡å¼ä¸­è¿›è¡Œé€‰æ‹©ã€‚</li></ul><ol><li><p>Hash æ¨¡å¼</p><ul><li><p>hash æ¨¡å¼æ˜¯ç”¨ <code>createWebHashHistory()</code> åˆ›å»ºçš„ã€‚<br><code>history: createWebHashHistory()</code><br> å®ƒåœ¨å†…éƒ¨ä¼ é€’çš„å®é™… URL ä¹‹å‰ä½¿ç”¨äº†ä¸€ä¸ªå“ˆå¸Œå­—ç¬¦ï¼ˆ<code>#</code>ï¼‰ã€‚ç”±äºè¿™éƒ¨åˆ† URL ä»æœªè¢«å‘é€åˆ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥å®ƒä¸éœ€è¦åœ¨æœåŠ¡å™¨å±‚é¢ä¸Šè¿›è¡Œä»»ä½•ç‰¹æ®Šå¤„ç†ã€‚ä¸è¿‡ï¼Œ<strong>å®ƒåœ¨ SEO ä¸­ç¡®å®æœ‰ä¸å¥½çš„å½±å“</strong>ã€‚å¦‚æœä½ æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ HTML5 æ¨¡å¼ã€‚</p></li><li><p>åŸç†ï¼š<br> é€šè¿‡ location.hash è¿›è¡Œè·³è½¬<br> å†…éƒ¨æ˜¯é€šè¿‡ hashchange äº‹ä»¶ç›‘å¬ URL çš„å˜åŒ–</p></li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hashchange&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></li><li><p>HTML5 æ¨¡å¼</p><ul><li><p>ç”¨ <code>createWebHistory()</code> åˆ›å»º HTML5 æ¨¡å¼ï¼Œæ¨èä½¿ç”¨è¿™ä¸ªæ¨¡å¼ã€‚<br><code>history: createWebHistory()</code><br> å½“ä½¿ç”¨è¿™ç§å†å²æ¨¡å¼æ—¶ï¼ŒURL ä¼šçœ‹èµ·æ¥å¾ˆ &quot; æ­£å¸¸ &quot;ï¼Œä¾‹å¦‚ <code>https://example.com/user/id</code>ã€‚æ¼‚äº®!</p></li><li><p>ä¸è¿‡ï¼Œé—®é¢˜æ¥äº†ã€‚ç”±äºæˆ‘ä»¬çš„åº”ç”¨æ˜¯ä¸€ä¸ªå•é¡µçš„å®¢æˆ·ç«¯åº”ç”¨ï¼Œå¦‚æœæ²¡æœ‰é€‚å½“çš„æœåŠ¡å™¨é…ç½®ï¼Œç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—® <code>https://example.com/user/id</code>ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ª 404 é”™è¯¯ã€‚è¿™å°±å°´å°¬äº†ã€‚</p></li><li><p>ä¸ç”¨æ‹…å¿ƒï¼šè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯åœ¨ä½ çš„æœåŠ¡å™¨ä¸Šæ·»åŠ ä¸€ä¸ªç®€å•çš„<strong>å›é€€è·¯ç”±</strong>ã€‚å¦‚æœ URL ä¸åŒ¹é…ä»»ä½•é™æ€èµ„æºï¼Œå®ƒåº”æä¾›ä¸ä½ çš„åº”ç”¨ç¨‹åºä¸­çš„ <code>index.html</code> ç›¸åŒçš„é¡µé¢ã€‚æ¼‚äº®ä¾æ—§!</p></li><li><p>åŸç†ï¼š</p><ul><li>é€šè¿‡ html5 çš„ history å®ç°ï¼Œæä¾›äº† <code>pushState</code> å’Œ <code>replaceState</code> ä¸¤ä¸ªæ–¹æ³•ï¼Œæ”¹å˜ URL ä¸ä¼šå¼•èµ·é¡µé¢çš„åˆ·æ–°ã€‚</li><li>é€šè¿‡ <code>popState</code> äº‹ä»¶è¿›è¡Œç›‘å¬ï¼Œä½†æ˜¯é€šè¿‡å‰è¿›åé€€ã€pushStateã€&lt;a&gt;æ ‡ç­¾æ”¹å˜ URL å¹¶ä¸ä¼šè§¦å‘ï¼›å¯ä»¥é…åˆ historyd çš„ backã€goã€forward æ–¹æ³•è¿›è¡Œè·³è½¬ï¼Œæ¯”è¾ƒéº»çƒ¦</li></ul></li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;popState&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></li></ol><h2 id="å››ã€å‘½åè·¯ç”±" tabindex="-1">å››ã€å‘½åè·¯ç”± <a class="header-anchor" href="#å››ã€å‘½åè·¯ç”±" aria-label="Permalink to &quot;å››ã€å‘½åè·¯ç”±&quot;">â€‹</a></h2><p>é™¤äº† <code>path</code> ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥ä¸ºä»»ä½•è·¯ç”±æä¾› <code>name</code>ã€‚è¿™æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li>æ²¡æœ‰ç¡¬ç¼–ç çš„ URL</li><li><code>params</code> çš„è‡ªåŠ¨ç¼–ç /è§£ç ã€‚</li><li>é˜²æ­¢ä½ åœ¨ url ä¸­å‡ºç°æ‰“å­—é”™è¯¯ã€‚</li><li>ç»•è¿‡è·¯å¾„æ’åºï¼ˆå¦‚æ˜¾ç¤ºä¸€ä¸ªï¼‰</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/user/:username&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    component: User,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>è¦é“¾æ¥åˆ°ä¸€ä¸ªå‘½åçš„è·¯ç”±ï¼Œå¯ä»¥å‘ <code>router-link</code> ç»„ä»¶çš„ <code>to</code> å±æ€§ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :to</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{ name: &#39;user&#39;, params: { username: &#39;erina&#39; }}&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  User</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">link</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>æ‹“å±•ï¼š<br> ç›´æ¥ä½¿ç”¨ a æ ‡ç­¾åŒæ ·å¯ä»¥è¿›è¡Œè·¯ç”±è·³è½¬ï¼Œä½†æ˜¯è·³è½¬çš„åŒæ—¶ä¼šæ‰§è¡Œé»˜è®¤è¡Œä¸ºï¼Œåˆ·æ–°é¡µé¢ï¼Œå› æ­¤ä¸å»ºè®®ä½¿ç”¨ã€‚<br><code>&lt;a href=&#39;/&#39;&gt;&lt;/a&gt;</code></p><h2 id="äº”ã€ç¼–ç¨‹å¼å¯¼èˆª" tabindex="-1">äº”ã€ç¼–ç¨‹å¼å¯¼èˆª <a class="header-anchor" href="#äº”ã€ç¼–ç¨‹å¼å¯¼èˆª" aria-label="Permalink to &quot;äº”ã€ç¼–ç¨‹å¼å¯¼èˆª&quot;">â€‹</a></h2><ul><li><p>é™¤äº†ä½¿ç”¨ <code>&lt;router-link&gt;</code> åˆ›å»º a æ ‡ç­¾æ¥å®šä¹‰å¯¼èˆªé“¾æ¥ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å€ŸåŠ© router çš„å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡ç¼–å†™ä»£ç æ¥å®ç°ã€‚</p></li><li><p>å¼•å…¥ router å®ä¾‹</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useRouter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-router&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div></li><li><p>æƒ³è¦å¯¼èˆªåˆ°ä¸åŒçš„ URLï¼Œå¯ä»¥ä½¿ç”¨ <code>router.push</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå‘ history æ ˆæ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ï¼Œæ‰€ä»¥ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æµè§ˆå™¨åé€€æŒ‰é’®æ—¶ï¼Œä¼šå›åˆ°ä¹‹å‰çš„ URLã€‚</p></li><li><p><code>router.push()</code> è¯¥æ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„ï¼Œæˆ–è€…ä¸€ä¸ªæè¿°åœ°å€çš„å¯¹è±¡ã€‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å­—ç¬¦ä¸²è·¯å¾„  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/users/eduardo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¸¦æœ‰è·¯å¾„çš„å¯¹è±¡  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/users/eduardo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‘½åçš„è·¯ç”±ï¼Œå¹¶åŠ ä¸Šå‚æ•°ï¼Œè®©è·¯ç”±å»ºç«‹ url  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, params: { username: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;eduardo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¸¦æŸ¥è¯¢å‚æ•°ï¼Œç»“æœæ˜¯ /register?plan=private  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/register&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, query: { plan: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;private&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¸¦ hashï¼Œç»“æœæ˜¯ /about#team  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/about&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, hash: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#team&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div></li><li><p><code>router.replace()</code><br> å®ƒçš„ä½œç”¨ç±»ä¼¼äº <code>router.push</code>ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œå®ƒåœ¨å¯¼èˆªæ—¶ä¸ä¼šå‘ history æ·»åŠ æ–°è®°å½•ï¼Œæ­£å¦‚å®ƒçš„åå­—æ‰€æš—ç¤ºçš„é‚£æ ·â€”â€”å®ƒå–ä»£äº†å½“å‰çš„æ¡ç›®ã€‚<br> ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä¼ é€’ç»™ <code>router.push</code> çš„ <code>routeLocation</code> ä¸­å¢åŠ ä¸€ä¸ªå±æ€§ <code>replace: true</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, replace: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><p>ä¹Ÿå¯ä»¥åœ¨ä½¿ç”¨ <code>&lt;router-link :to=&quot;...&quot; replace&gt;</code> æ·»åŠ  replace å±æ€§</p></li><li><p><code>router.go()</code> å†å²è®°å½•<br> è¯¥æ–¹æ³•é‡‡ç”¨ä¸€ä¸ªæ•´æ•°ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºåœ¨å†å²å †æ ˆä¸­å‰è¿›æˆ–åé€€å¤šå°‘æ­¥ï¼Œç±»ä¼¼äº <code>window.history.go(n)</code>ã€‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‘å‰ç§»åŠ¨ä¸€æ¡è®°å½•ï¼Œä¸ router.forward() ç›¸åŒ  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›ä¸€æ¡è®°å½•ï¼Œä¸ router.back() ç›¸åŒ  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‰è¿› 3 æ¡è®°å½•  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¦‚æœæ²¡æœ‰é‚£ä¹ˆå¤šè®°å½•ï¼Œé™é»˜å¤±è´¥  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li></ul><h2 id="å…­ã€è·¯ç”±ä¼ å‚" tabindex="-1">å…­ã€è·¯ç”±ä¼ å‚ <a class="header-anchor" href="#å…­ã€è·¯ç”±ä¼ å‚" aria-label="Permalink to &quot;å…­ã€è·¯ç”±ä¼ å‚&quot;">â€‹</a></h2><ul><li><p>query<br> query ä»£è¡¨å½“å‰åœ°å€çš„ <code>search</code> å±æ€§çš„å¯¹è±¡ï¼Œå³ï¼Ÿåé¢çš„éƒ¨åˆ†<br><code>http://URL?name=xxx&amp;price=500&amp;id=1</code><br> åœ¨è·¯ç”±è·³è½¬æ—¶ï¼Œä½¿ç”¨ query è¿›è¡Œä¼ å‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> toDetail</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">				path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/reg&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">				query: item  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		})  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>è·³è½¬é¡µé¢æ¥æ”¶å¯¹åº”å€¼</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// useRoute è·å–çš„æ˜¯å½“å‰é¡µé¢çš„è·¯ç”±å®ä¾‹  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// useRouter è·å–çš„æ˜¯æ•´ä¸ª vue-router çš„å®ä¾‹  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useRoute, useRouter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-router&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route.query.name</span></span></code></pre></div></li><li><p>params</p></li></ul><blockquote><p>ğŸ“Œ<strong>4.1.4ã€params æœªå®šä¹‰æŠ¥é”™ã€‘</strong></p><p>[Vue Router warn]: Discarded invalid param(s) &quot;name&quot;, &quot;price&quot;, &quot;id&quot; when navigating. See </p><p>1.1.4 é‡Œç§»é™¤äº†æœªå®šä¹‰çš„ params ä¼ é€’ï¼Œå¯ä»¥ä½¿ç”¨æ–‡æ¡£é‡Œé¢å…¶å®ƒå‡ ç§å»ºè®®çš„æ•°æ®ç®¡ç†æ–¹å¼æ›¿ä»£ params ä¼ å‚æ•°ã€‚</p><p><a href="https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22" title="https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22" target="_blank" rel="noreferrer">https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22</a> for more details.</p><p>This change will break your app. This behavior has worked in some<br> scenarios but has been <strong>advised against</strong> for years as it&#39;s an<br> antipattern in routing. You can still put the data in <code>query</code> or as an<br> actual param.<br> å› æ­¤ params å¿…é¡»å®šä¹‰ï¼Œä½¿ç”¨<strong>åŠ¨æ€è·¯ç”±ä¼ å‚</strong>çš„æ–¹å¼ã€‚</p></blockquote><ul><li><strong>params åŠ¨æ€è·¯ç”±ä¼ å‚</strong><ul><li><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å°†ç»™å®šåŒ¹é…æ¨¡å¼çš„è·¯ç”±æ˜ å°„åˆ°åŒä¸€ä¸ªç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰ä¸€ä¸ª User ç»„ä»¶ï¼Œå®ƒåº”è¯¥å¯¹æ‰€æœ‰ç”¨æˆ·è¿›è¡Œæ¸²æŸ“ï¼Œä½†ç”¨æˆ· ID ä¸åŒã€‚åœ¨ Vue Router ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·¯å¾„ä¸­ä½¿ç”¨ä¸€ä¸ªåŠ¨æ€å­—æ®µæ¥å®ç°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè·¯å¾„å‚æ•°ã€‚</p></li><li><p>è·¯å¾„å‚æ•° ç”¨å†’å· : è¡¨ç¤ºã€‚å½“ä¸€ä¸ªè·¯ç”±è¢«åŒ¹é…æ—¶ï¼Œå®ƒçš„ params çš„å€¼å°†åœ¨æ¯ä¸ªç»„ä»¶</p></li><li><p>å®šä¹‰å‚æ•°<br> åœ¨ route çš„é…ç½®ä¸­çš„ path é‡Œï¼Œä½¿ç”¨ <code>/:ParamName</code> è¿›è¡Œå ä½å®šä¹‰</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/gooddetail/:id/:name/:price&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å®šä¹‰params</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GoodDetail&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../components/gooddetail.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span></code></pre></div></li><li><p>è·³è½¬</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> toDetail</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GoodDetail&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¿…é¡»ä½¿ç”¨name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		params: item</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	})</span></span></code></pre></div></li><li><p>ä½¿ç”¨</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useRoute, useRouter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-router&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> route</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> route.params.name</span></span></code></pre></div></li></ul></li></ul><h2 id="ä¸ƒã€åµŒå¥—è·¯ç”±" tabindex="-1">ä¸ƒã€åµŒå¥—è·¯ç”± <a class="header-anchor" href="#ä¸ƒã€åµŒå¥—è·¯ç”±" aria-label="Permalink to &quot;ä¸ƒã€åµŒå¥—è·¯ç”±&quot;">â€‹</a></h2><p>ä¸€äº›åº”ç”¨ç¨‹åºçš„ UI ç”±å¤šå±‚åµŒå¥—çš„ç»„ä»¶ç»„æˆã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒURL çš„ç‰‡æ®µé€šå¸¸å¯¹åº”äºç‰¹å®šçš„åµŒå¥—ç»„ä»¶ç»“æ„ã€‚</p><p>çˆ¶è·¯ç”±ä½¿ç”¨ <code>chidren:Array&lt;RouteRecordRaw&gt;</code> ç»§ç»­åµŒå¥—ä¸€å±‚ routesã€‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RouteRecordRaw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../components/footer.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        children: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Login&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../components/login.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;reg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Reg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../components/reg.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><strong>TIPSï¼šçˆ¶è·¯ç”±ç»„ä»¶ä¸­ä¸è¦å¿˜è®°å†™&lt;router-view</strong>&gt;</p><h2 id="å…«ã€å‘½åè§†å›¾" tabindex="-1"><s>å…«ã€å‘½åè§†å›¾</s> <a class="header-anchor" href="#å…«ã€å‘½åè§†å›¾" aria-label="Permalink to &quot;~~å…«ã€å‘½åè§†å›¾~~&quot;">â€‹</a></h2><blockquote><p>ğŸ“Œ4.1.5 å·²ç»å¤±æ•ˆ</p></blockquote><p>æœ‰æ—¶å€™æƒ³åŒæ—¶ (åŒçº§) å±•ç¤ºå¤šä¸ªè§†å›¾ï¼Œè€Œä¸æ˜¯åµŒå¥—å±•ç¤ºï¼Œä¾‹å¦‚åˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œæœ‰ <code>sidebar</code> (ä¾§å¯¼èˆª) å’Œ <code>main</code> (ä¸»å†…å®¹) ä¸¤ä¸ªè§†å›¾ï¼Œè¿™ä¸ªæ—¶å€™å‘½åè§†å›¾å°±æ´¾ä¸Šç”¨åœºäº†ã€‚ä½ å¯ä»¥åœ¨ç•Œé¢ä¸­æ‹¥æœ‰å¤šä¸ªå•ç‹¬å‘½åçš„è§†å›¾ï¼Œè€Œä¸æ˜¯åªæœ‰ä¸€ä¸ªå•ç‹¬çš„å‡ºå£ã€‚å¦‚æœ <code>router-view</code> æ²¡æœ‰è®¾ç½®åå­—ï¼Œé‚£ä¹ˆé»˜è®¤ä¸º <code>default</code>ã€‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view class</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;view left-sidebar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LeftSidebar&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view class</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;view main-content&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view class</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;view right-sidebar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RightSidebar&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>ä¸€ä¸ªè§†å›¾ä½¿ç”¨ä¸€ä¸ªç»„ä»¶æ¸²æŸ“ï¼Œå› æ­¤å¯¹äºåŒä¸ªè·¯ç”±ï¼Œå¤šä¸ªè§†å›¾å°±éœ€è¦å¤šä¸ªç»„ä»¶ã€‚ç¡®ä¿æ­£ç¡®ä½¿ç”¨ <code>components</code> é…ç½® (å¸¦ä¸Š <strong>s</strong>)ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  history: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWebHashHistory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  routes: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      components: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        default: Home,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // LeftSidebar: LeftSidebar çš„ç¼©å†™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        LeftSidebar,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å®ƒä»¬ä¸ \`&lt;router-view&gt;\` ä¸Šçš„ \`name\` å±æ€§åŒ¹é…</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        RightSidebar,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="ä¹ã€é‡å®šå‘å’Œåˆ«å" tabindex="-1">ä¹ã€é‡å®šå‘å’Œåˆ«å <a class="header-anchor" href="#ä¹ã€é‡å®šå‘å’Œåˆ«å" aria-label="Permalink to &quot;ä¹ã€é‡å®šå‘å’Œåˆ«å&quot;">â€‹</a></h2><ul><li><p>é‡å®šå‘Â redirect<br> é‡å®šå‘é¡¾åæ€ä¹‰ï¼Œå³å½“è®¿é—®å½“å‰è·¯ç”±æ—¶ï¼Œä¼šè‡ªåŠ¨è·³è½¬è‡³æŒ‡å®šè·¯ç”±ã€‚é‡å®šå‘ä¹Ÿæ˜¯é€šè¿‡ <code>routes</code> é…ç½®æ¥å®Œæˆï¼Œæœ‰ä¸‰ç§é…ç½®å½¢å¼ï¼š</p><ol><li><p>å­—ç¬¦ä¸²å½¢å¼é…ç½®</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">redirect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/login&#39;</span></span></code></pre></div></li><li><p>å¯¹è±¡å½¢å¼é…ç½®</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">redirect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;homepage&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">å…¶ä»–routeé…ç½®é¡¹}</span></span></code></pre></div></li><li><p>å‡½æ•°å½¢å¼</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¯¥å‡½æ•°æ¥æ”¶ç›®æ ‡è·¯ç”±ä½œä¸ºå‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›¸å¯¹ä½ç½®ä¸ä»¥\`/\`å¼€å¤´</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å› â€˜å­—ç¬¦ä¸²â€™ æˆ– { path: &#39;profile&#39;}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// to æ˜¯å½“å‰è·¯ç”±routeçš„å®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">redirect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/user1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		query: to.query</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}},</span></span></code></pre></div></li></ol></li><li><p>åˆ«å alias<br> ä¸ºå½“å‰è·¯ç”±é…ç½®å¤šä¸ª path</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">alias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/root&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/root2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/root3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li></ul><h2 id="åã€å¯¼èˆªå®ˆå«" tabindex="-1">åã€å¯¼èˆªå®ˆå« <a class="header-anchor" href="#åã€å¯¼èˆªå®ˆå«" aria-label="Permalink to &quot;åã€å¯¼èˆªå®ˆå«&quot;">â€‹</a></h2><p>vue-router æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªã€‚è¿™é‡Œæœ‰å¾ˆå¤šæ–¹å¼æ¤å…¥è·¯ç”±å¯¼èˆªä¸­ï¼šå…¨å±€çš„ï¼Œå•ä¸ªè·¯ç”±ç‹¬äº«çš„ï¼Œæˆ–è€…ç»„ä»¶çº§çš„ã€‚</p><ul><li><p>å…¨å±€å‰ç½®å®ˆå«<br><code>router.beforeEach(callbackFn(to,from,next)â‡’{})</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">beforeEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(to, from);  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><ul><li>ä¸‰ä¸ªå‚æ•°ï¼š <ul><li>to: Routeï¼Œ å³å°†è¦è¿›å…¥çš„ç›®æ ‡è·¯ç”±ï¼›</li><li>from: Routeï¼Œå½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±ï¼›</li><li><code>next():</code> è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed (ç¡®è®¤çš„)ã€‚<br><code>next(false)</code>: ä¸­æ–­å½“å‰çš„å¯¼èˆªã€‚å¦‚æœæµè§ˆå™¨çš„ URL æ”¹å˜äº† (å¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æˆ–è€…æµè§ˆå™¨åé€€æŒ‰é’®)ï¼Œé‚£ä¹ˆ URL åœ°å€ä¼šé‡ç½®åˆ° from è·¯ç”±å¯¹åº”çš„åœ°å€ã€‚<br><code>next(&#39;/&#39;)</code> æˆ–è€… next({ path: &#39;/&#39; }): è·³è½¬åˆ°ä¸€ä¸ªä¸åŒçš„åœ°å€ã€‚å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°çš„å¯¼èˆªã€‚</li></ul></li></ul></li><li><p>å…¨å±€åç½®å®ˆå«<br><code>router.afterEach(callbackFn(to,from,failure)â‡’{})</code><br> åç½®å®ˆå«ä¸æ¥å— <code>next</code> å‡½æ•°ï¼Œä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«ã€‚<br> åç½®å®ˆå«å¯¹äºåˆ†æã€æ›´æ”¹é¡µé¢æ ‡é¢˜ã€å£°æ˜é¡µé¢ç­‰è¾…åŠ©åŠŸèƒ½ä»¥åŠè®¸å¤šå…¶ä»–äº‹æƒ…éƒ½å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚å¯ä»¥ç”¨æ¥åš loadingBarã€‚</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">afterEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	 ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p><code>navigation failures </code> ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œä¸€èˆ¬ç”¨äºæ£€æµ‹å¯¼èˆªæ•…éšœ</p></li></ul><h2 id="åä¸€ã€è·¯ç”±å…ƒä¿¡æ¯" tabindex="-1">åä¸€ã€è·¯ç”±å…ƒä¿¡æ¯ <a class="header-anchor" href="#åä¸€ã€è·¯ç”±å…ƒä¿¡æ¯" aria-label="Permalink to &quot;åä¸€ã€è·¯ç”±å…ƒä¿¡æ¯&quot;">â€‹</a></h2><ul><li><p>é€šè¿‡è·¯ç”±è®°å½•çš„ <code>meta</code> å±æ€§å¯ä»¥å®šä¹‰è·¯ç”±çš„<strong>å…ƒä¿¡æ¯</strong>ã€‚ä½¿ç”¨è·¯ç”±å…ƒä¿¡æ¯å¯ä»¥åœ¨è·¯ç”±ä¸­é™„åŠ è‡ªå®šä¹‰çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š</p><ul><li>æƒé™æ ¡éªŒæ ‡è¯†ã€‚</li><li>è·¯ç”±ç»„ä»¶çš„è¿‡æ¸¡åç§°ã€‚</li><li>è·¯ç”±ç»„ä»¶æŒä¹…åŒ–ç¼“å­˜ (keep-alive) çš„ç›¸å…³é…ç½®ã€‚</li><li>æ ‡é¢˜åç§°</li></ul></li><li><p>å®šä¹‰</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../components/index.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">		meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">			title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; ä¸»é¡µ &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span></code></pre></div></li><li><p>ä½¿ç”¨<br><code>route.meta.xxx</code></p></li><li><p>TypeScript æ‹“å±•å£°æ˜</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// typings.d.ts or router.ts  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-router&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">declare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue-router&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RouteMeta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// æ˜¯å¯é€‰çš„  </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">		isAdmin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// æ¯ä¸ªè·¯ç”±éƒ½å¿…é¡»å£°æ˜  </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">		requiresAuth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h2 id="åäºŒã€è·¯ç”±è¿‡æ¸¡åŠ¨æ•ˆ" tabindex="-1">åäºŒã€è·¯ç”±è¿‡æ¸¡åŠ¨æ•ˆ <a class="header-anchor" href="#åäºŒã€è·¯ç”±è¿‡æ¸¡åŠ¨æ•ˆ" aria-label="Permalink to &quot;åäºŒã€è·¯ç”±è¿‡æ¸¡åŠ¨æ•ˆ&quot;">â€‹</a></h2><p>æƒ³è¦åœ¨ä½ çš„è·¯å¾„ç»„ä»¶ä¸Šä½¿ç”¨è½¬åœºï¼Œå¹¶å¯¹å¯¼èˆªè¿›è¡ŒåŠ¨ç”»å¤„ç†ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>v-slot</code> APIï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view #</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">default=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{ route, Component }&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :enter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">active</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">class</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;route.meta.transition&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :is</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Component&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">transition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">view</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p><code>&lt;router-view&gt;</code> çš„ <code>v-slot</code> ä¼šé»˜è®¤æš´éœ² route å’Œ compoment ä¸¤ä¸ªå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ route åœ¨æ’æ§½ä¸­è®¿é—®åˆ° route çš„ç›¸å…³ä¿¡æ¯ï¼Œé€šè¿‡ compoment æŠŠç»„ä»¶æ”¾å›æ’æ§½ä¸­ã€‚</p><p>é€šè¿‡ meta å’ŒåŠ¨æ•ˆé…åˆå¯ä»¥å¤±æ•ˆè·¯ç”±çš„è¿‡æ¸¡åŠ¨æ•ˆã€‚</p><h2 id="åä¸‰ã€æ»šåŠ¨è¡Œä¸º" tabindex="-1">åä¸‰ã€æ»šåŠ¨è¡Œä¸º <a class="header-anchor" href="#åä¸‰ã€æ»šåŠ¨è¡Œä¸º" aria-label="Permalink to &quot;åä¸‰ã€æ»šåŠ¨è¡Œä¸º&quot;">â€‹</a></h2><ul><li><p>ä½¿ç”¨å‰ç«¯è·¯ç”±ï¼Œå½“åˆ‡æ¢åˆ°æ–°è·¯ç”±æ—¶ï¼Œæƒ³è¦é¡µé¢æ»šåˆ°é¡¶éƒ¨ï¼Œæˆ–è€…æ˜¯ä¿æŒåŸå…ˆçš„æ»šåŠ¨ä½ç½®ï¼Œå°±åƒé‡æ–°åŠ è½½é¡µé¢é‚£æ ·ã€‚ vue-router èƒ½åšåˆ°ï¼Œè€Œä¸”æ›´å¥½ï¼Œå®ƒè®©ä½ å¯ä»¥è‡ªå®šä¹‰è·¯ç”±åˆ‡æ¢æ—¶é¡µé¢å¦‚ä½•æ»šåŠ¨ã€‚</p></li><li><p>å½“åˆ›å»ºä¸€ä¸ª Router å®ä¾‹ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ª <code>scrollBehavior</code> æ–¹æ³•ï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	history: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWebHashHistory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	routes: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	scrollBehavior</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">savedPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// return æœŸæœ›æ»šåŠ¨åˆ°å“ªä¸ªçš„ä½ç½®  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			top:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			left:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			behavior:smooth, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//æ»šåŠ¨è¡Œä¸ºæ–¹å¼ï¼šsmooth/instant/auto  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></li><li><p><code>scrollBehavior</code> å‡½æ•°æ¥æ”¶ <code>to</code> å’Œ <code>from</code> è·¯ç”±å¯¹è±¡ï¼Œå¦‚ Navigation Guardsã€‚ç¬¬ä¸‰ä¸ªå‚æ•° <code>savedPosition</code>ï¼Œåªæœ‰å½“è¿™æ˜¯ä¸€ä¸ª <code>popstate</code> å¯¼èˆªæ—¶æ‰å¯ç”¨ï¼ˆç”±æµè§ˆå™¨çš„åé€€/å‰è¿›æŒ‰é’®è§¦å‘ï¼‰ã€‚</p></li><li><p>è¯¥å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ª <code>ScrollToOptions</code> ä½ç½®å¯¹è±¡ã€‚</p></li><li><p>å»¶è¿Ÿæ»šåŠ¨<br> æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡µé¢ä¸­æ»šåŠ¨ä¹‹å‰ç¨ä½œç­‰å¾…ã€‚ä¾‹å¦‚ï¼Œå½“å¤„ç†è¿‡æ¸¡æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›ç­‰å¾…è¿‡æ¸¡ç»“æŸåå†æ»šåŠ¨ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½ å¯ä»¥è¿”å›ä¸€ä¸ª Promiseï¼Œå®ƒå¯ä»¥è¿”å›æ‰€éœ€çš„ä½ç½®æè¿°ç¬¦ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬åœ¨æ»šåŠ¨å‰ç­‰å¾… 500msï¼š</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createRouter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	scrollBehavior</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">savedPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">			setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">				resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ left: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, top: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		})  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	},  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></li></ul><h2 id="åå››ã€åŠ¨æ€è·¯ç”±" tabindex="-1">åå››ã€åŠ¨æ€è·¯ç”± <a class="header-anchor" href="#åå››ã€åŠ¨æ€è·¯ç”±" aria-label="Permalink to &quot;åå››ã€åŠ¨æ€è·¯ç”±&quot;">â€‹</a></h2><ul><li><p>å¯¹è·¯ç”±çš„æ·»åŠ é€šå¸¸æ˜¯é€šè¿‡ <code>routes</code> é€‰é¡¹æ¥å®Œæˆçš„ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æƒ³åœ¨åº”ç”¨ç¨‹åºå·²ç»è¿è¡Œçš„æ—¶å€™æ·»åŠ æˆ–åˆ é™¤è·¯ç”±ã€‚å…·æœ‰å¯æ‰©å±•æ¥å£ (å¦‚ Vue CLI UI ) è¿™æ ·çš„åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨å®ƒæ¥æ‰©å±•åº”ç”¨ç¨‹åºã€‚</p></li><li><p>æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨åŠ¨æ€è·¯ç”±éƒ½æ˜¯åå°ä¼šè¿”å›ä¸€ä¸ªè·¯ç”±è¡¨å‰ç«¯é€šè¿‡è°ƒæ¥å£æ‹¿åˆ°åå¤„ç†ï¼Œè¿›è¡Œæƒé™ç®¡ç†ã€‚</p></li><li><p>åŠ¨æ€è·¯ç”±ä¸»è¦é€šè¿‡ä¸¤ä¸ªå‡½æ•°å®ç°ã€‚<code>router.addRoute()</code> å’Œ <code>router.removeRoute()</code></p></li><li><p>æ·»åŠ è·¯ç”±</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/about&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, component: About })</span></span></code></pre></div></li><li><p>åˆ é™¤è·¯ç”±</p><ul><li>addRoute ä¼šè¿”å›ä¸€ä¸ªåˆ é™¤è·¯ç”±çš„å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> removeRoute</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(routeRecord)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ é™¤è·¯ç”±å¦‚æœå­˜åœ¨çš„è¯</span></span></code></pre></div></li><li><p>æˆ–è€…é€šè¿‡è·¯ç”±çš„åå­—è°ƒç”¨ <code>router.removeRoute(&#39;name&#39;)</code> æ–¹æ³•</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/about&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;about&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, component: About })</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ é™¤è·¯ç”±</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeRoute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;about&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li></ul>`,50)]))}const g=i(p,[["render",h]]);export{o as __pageData,g as default};
