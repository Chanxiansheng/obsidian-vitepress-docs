import{_ as s,c as a,o as e,ag as t}from"./chunks/framework.-ewJmwvT.js";const c=JSON.parse('{"title":"ffmpeg 工具","description":"","frontmatter":{},"headers":[],"relativePath":"工具说明书/ffmepg/ffmpeg工具.md","filePath":"工具说明书/ffmepg/ffmpeg工具.md"}'),l={name:"工具说明书/ffmepg/ffmpeg工具.md"};function p(h,i,n,o,r,d){return e(),a("div",null,i[0]||(i[0]=[t('<h1 id="ffmpeg-工具" tabindex="-1">ffmpeg 工具 <a class="header-anchor" href="#ffmpeg-工具" aria-label="Permalink to &quot;ffmpeg 工具&quot;">​</a></h1><div class="note custom-block github-alert"><p class="custom-block-title">Title</p><p></p><p><a href="https://zhuanlan.zhihu.com/p/684158932" target="_blank" rel="noreferrer">zhuanlan.zhihu.com/p/684158932</a></p><p><a href="https://ffmpeg.p2hp.com/ffmpeg.html" target="_blank" rel="noreferrer">ffmpeg Documentation</a></p></div><p>FFmpeg 全称是“<strong>Fast Forward Moving Picture Expert Group</strong>”，是一个免费的开源程序库，一个<strong>多媒体音视频处理分析工具软件</strong>，且提供命令行方式调用，专门用来编辑处理各种音视频或图像。它的源码是<strong>由 C 语言编写</strong>基于 Linux 系统中开发，不过在其它操作系统中都可以运行，跨平台性良好。</p><h2 id="功能与特性" tabindex="-1">功能与特性 <a class="header-anchor" href="#功能与特性" aria-label="Permalink to &quot;功能与特性&quot;">​</a></h2><ol><li>格式转换：FFmpeg 可以将一个媒体文件从一种格式转换为另一种格式，支持几乎所有常见的音频和视频格式，包括 MP4、AVI、MKV、MOV、FLV、MP3、AAC 等。</li><li>视频处理：FFmpeg 可以进行视频编码、解码、裁剪、旋转、缩放、调整帧率、添加水印等操作。你可以使用它来调整视频的分辨率、剪辑和拼接视频片段，以及对视频进行各种效果处理。</li><li>音频处理：FFmpeg 可以进行音频编码、解码、剪辑、混音、音量调节等操作。你可以用它来提取音频轨道、剪辑和拼接音频片段，以及对音频进行降噪、均衡器等处理。</li><li>流媒体传输：FFmpeg 支持将音视频流实时传输到网络上，可以用于实时流媒体服务、直播和视频会议等应用场景。</li><li>视频处理效率高：FFmpeg 是一个高效的工具，针对处理大型视频文件和高分辨率视频进行了优化，可以在保持良好质量的同时提供较快的处理速度。</li><li>跨平台支持：FFmpeg 可以在多个操作系统上运行，包括 Windows、MacOS、Linux 等，同时支持多种硬件加速技术，如 NVIDIA CUDA 和 Intel Quick Sync Video。</li></ol><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><ol><li>下载对应版本：<a href="https://ffmpeg.p2hp.com/download.html" target="_blank" rel="noreferrer">下载 FFmpeg</a></li><li>配置环境变量便于 shell 执行</li><li>shell 中执行 <code>ffmpeg -version</code> 查看是否配置成功</li></ol><h2 id="应用" tabindex="-1">应用 <a class="header-anchor" href="#应用" aria-label="Permalink to &quot;应用&quot;">​</a></h2><p>基础 shell 语法：<code>ffmpeg [global_options] {[input_file_options] -i input_url} ... {[output_file_options] output_url} ...</code></p><p>具体的命令可以使用 <code>ffmpeg -h</code> <code>ffmpeg -fliter</code> 或者在官方文档 <a href="https://ffmpeg.p2hp.com/ffmpeg.html" target="_blank" rel="noreferrer">ffmpeg Documentation</a> 中查找</p><blockquote><p>问题：<br> 无法直接使用 ffmpeg，必须使用 ffmpeg.exe，shell 命令才会生效。</p></blockquote><h3 id="格式转换" tabindex="-1">格式转换 <a class="header-anchor" href="#格式转换" aria-label="Permalink to &quot;格式转换&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ffmpeg.exe -i ./static/test.mp4 ./static/output.avi&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { stdio: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;inherit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><h3 id="音频提取" tabindex="-1">音频提取 <a class="header-anchor" href="#音频提取" aria-label="Permalink to &quot;音频提取&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ffmpeg.exe -i ./static/test.mp4 ./static/output.mp3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { stdio: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;inherit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><h3 id="视频裁剪" tabindex="-1">视频裁剪 <a class="header-anchor" href="#视频裁剪" aria-label="Permalink to &quot;视频裁剪&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ffmpeg.exe -ss 10 -to 15 -i ./static/test.mp4 ./static/output.mp4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { stdio: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;inherit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><h3 id="添加水印" tabindex="-1">添加水印 <a class="header-anchor" href="#添加水印" aria-label="Permalink to &quot;添加水印&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ffmpeg.exe -i ./static/test.mp4 -vf drawtext=text=&quot;Hello world!&quot;:fontsize=30:x=10:y=10:fontcolor=white ./static/output.mp4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { stdio: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;inherit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div><p>-vf 就是 video filter</p><h3 id="去除水印" tabindex="-1">去除水印 <a class="header-anchor" href="#去除水印" aria-label="Permalink to &quot;去除水印&quot;">​</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ffmpeg.exe -i ./static/test.mp4 -vf delogo=w=330:h=30:x:10:y10 ./static/output.mp4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { stdio: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;inherit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span></code></pre></div>',22)]))}const g=s(l,[["render",p]]);export{c as __pageData,g as default};
